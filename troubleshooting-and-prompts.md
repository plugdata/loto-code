# คู่มือการแก้ปัญหาและเทคนิคการเขียน Prompt (Troubleshooting & Prompt Guide)

คู่มือนี้จัดทำขึ้นเพื่อบันทึกปัญหาที่พบระหว่างการพัฒนา และวิธีการเขียน Prompt เพื่อให้ AI ช่วยแก้ไขปัญหาได้อย่างแม่นยำ

---

## 1. กรณีศึกษา: ปัญหา "invalid path 'nul'" บน Windows

**ปัญหาที่พบ:**
เมื่อรันคำสั่ง `git add .` หรือ `git add -A` แล้วเกิด Error:
`error: invalid path 'nul'`
`error: unable to add 'nul' to index`
`fatal: adding files failed`

**สาเหตุ:** 
ในระบบ Windows คำว่า `nul` เป็นชื่ออุปกรณ์สงวน (Reserved Device Name) เช่นเดียวกับ `CON`, `PRN`, `AUX` ทำให้ Git ไม่สามารถจัดการไฟล์ที่มีชื่อนี้ได้ในบางกรณี หรืออาจมีไฟล์ชื่อ `nul` ถูกสร้างขึ้นโดยไม่ตั้งใจ

**วิธีแก้ไข:**
1.  **ข้ามไฟล์นั้นไป**: อย่าใช้ `git add .` ให้ระบุชื่อโฟลเดอร์หรือไฟล์ที่จะเพิ่มแทน เช่น `git add src backend package.json`
2.  **ใช้ .gitignore**: เพิ่มคำว่า `nul` ลงในไฟล์ `.gitignore` เพื่อไม่ให้ Git พยายามไปยุ่งกับมัน

---

## 2. การเขียน Prompt เมื่อเกิดปัญหา (Problematic Prompts vs. Effective Prompts)

เพื่อให้ AI เข้าใจและแก้ปัญหาได้เร็วขึ้น ควรหลีกเลี่ยง Prompt ที่คลุมเครือ

### ❌ Prompt ที่มีปัญหา (คลุมเครือ/ข้อมูลไม่พอ)
> "มันรันไม่ได้ แก้ให้หน่อย"
> "Git Error แก้ยังไง"
> "อัปโหลดไม่ขึ้น"

**ทำไมถึงมีปัญหา?**: AI ไม่เห็นสิ่งที่เกิดขึ้นจริงบนหน้าจอของคุณ ข้อมูลที่ขาดไปคือ Error Message, คำสั่งที่รันก่อนหน้า และสภาพแวดล้อม

### ✅ Prompt ที่มีประสิทธิภาพ (ชัดเจน/มีข้อมูลครบ)
> "รันคำสั่ง `git push` แล้วเจอ Error `fatal: remote origin already exists.` ช่วยตรวจสอบ remote URL และแก้ไขให้ถูกต้องหน่อย"
> "พบปัญหา `invalid path 'nul'` ตอนจะ `git add .` บน Windows ครับ ช่วยหาวิธีเพิ่มไฟล์อื่นๆ โดยข้ามไฟล์ nul นี้ไปหน่อย"
> "Swagger UI ขึ้น Error `Parser error on line 12` ช่วยดูไฟล์ `swagger.routes.js` และแก้ไขจุดที่ตั้งค่า URL ผิดให้หน่อย"

**เทคนิคหลัก**: **[คำสั่งที่รัน] + [Error Message ที่ได้รับ] + [ผลลัพธ์ที่ต้องการ]**

---

## 3. สรุปปัญหาที่แก้ไขไปแล้วในโปรเจกต์นี้

| ปัญหา | สาเหตุ | วิธีแก้ |
| :--- | :--- | :--- |
| **Push GitHub ไม่ได้** | Remote URL เดิมผิด (`loto-`) | `git remote set-url origin [URL ใหม่]` |
| **Swagger UI Error** | ชี้ URL กลับมาที่ตัวเอง (Loop) | แก้ไขเส้นทาง URL ใน `swagger.routes.js` |
| **Login แล้ว API Fail** | รูปแบบ JSON ไม่ตรงกัน | Wrap ข้อมูลด้วย `{ success: true, data: ... }` |
| **Prisma Error P1012** | เวอร์ชั่น 7 ไม่รองรับ `url` แบบเดิม | ย้ายการกำหนด URL ไปที่ Dynamic Connection |

---

## 4. เคล็ดลับเพิ่มเติม
- หากต้องการให้ AI เขียนคู่มือ ให้ระบุ **ภาษา** และ **ระดับความละเอียด** (เช่น "เขียนคู่มือภาษาไทยแบบสรุปสั้นๆ")
- หากคำสั่งที่ AI ให้มาใช้งานไม่ได้ ให้คัดลอก Error นั้นส่งกลับไปให้ AI ทันที AI จะสามารถวิเคราะห์และเปลี่ยนแผนการแก้ปัญหาได้
